{% extends 'base.html.twig' %}

{% block subtitle entity %}

{% block body -%}
    {% include('party/_party_h1.html.twig') %}

    <h2>
        Dungeon Master
        <small>
            <a href="{{ path('party_dm', { 'id': entity.id }) }}">
                <span class="fas fa-book"></span>
            </a>
        </small>
    </h2>

    <p>{{ entity.dungeonMaster }}</p>

    <h2>Characters</h2>
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th>Name</th>
            <th>Race</th>
            <th>Favored Class</th>
            <th>Level</th>
            <th>Player</th>
        </tr>
        </thead>
        <tbody>
        {% for character in entity.characters %}
            <tr>
                <td><a href="{{ path('characters_show', {'id': character.id}) }}">{{ character }}</a>
                </td>
                <td>
                    <a href="{{ path('races_show', {'id': character.race.id}) }}">{{ character.race }}</a>
                </td>
                <td>
                    <a href="{{ path('classes_show', {'id': character.favoredClass.id}) }}">{{ character.favoredClass }}</a>
                </td>
                <td>{{ character.level }}</td>
                <td>{{ character.user }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {{ form_start(delete_form) }}
    {{ form_widget(delete_form.submit) }}
    {{ form_end(delete_form) }}
{% endblock %}
